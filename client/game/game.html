<template name="game">

  <h1>{{name}}</h1>

  <div class="pull-right">
    {{{gameStatus}}}
    {{{mapMessage}}}
  </div>

  <button class="ui button center pup" data-content="Reset zoom and pan">Center Map</button>

  {{#if hasJoined }}

    {{#if displayGameButtons}}
      <button class="ui primary button start pup" data-content="It will start automatically in a later version :)">Start
        train
      </button>
    {{/if}}

    {{#if displayGameButtons}}

      {{>toolsDropdown}}

      Current speed: 45 km/h. 1 locomotive, 0 freight cars, 0 passenger cars
    {{/if}}

  {{else}}
    {{#if currentUser }}
      <button class="ui primary button open-join-modal pup" data-content="Display Teams">Teams</button>
      {{>teams}}
    {{/if}}
  {{/if}}
  <br/>
  <br/>
  <canvas width="{{screenWidth}}" height="{{screenHeigth}}"></canvas>
  <br/>
  {{#if displayGameButtons}}
    <button class="right floated ui red button reset pup" data-content="Remove all rails">Reset Map</button>
  {{/if}}
  <div class="mini ui buttons floated right">
    <button class="ui positive button pup"
            data-content="Bon pour l'instant ya pas grand chose, mais c'est d&eacute;j&agrave; marrant; Si vous avez une id&eacute;e de gameplay ya un doc pour y mettre nos id&eacute;es demandez-moi le lien ! Mick">
      Help
    </button>
    <button class="ui button pup" data-content="While logged, left click to put a rail, right click to remove">Edit
    </button>
    <button class="ui button pup" data-content="Use the mouse wheel to zoom">Zoom</button>
    <div class="or"></div>
    <button class="ui button pup"
            data-content="Pan the map with the mouse while holding the Ctrl key, or the middle button">Pan
    </button>
  </div>
  <div class="ui black label">
    <i class="road icon"></i> Tiles
    <div class="detail">{{railsCount}}</div>
  </div>

</template>

<template name="toolsDropdown">

  <div class="ui icon top left pointing dropdown button tile-menu">
    <i class="road icon"></i>

    <div class="menu">
      <div class="header">Tile</div>
      {{#each tileTypes }}
        {{> tileType}}
      {{/each }}
      <div class="header">Skin</div>
      <div class="item selectSkinDefault"><i class="road icon"></i> Default</div>
      <div class="item selectSkinMine"><i class="road icon"></i> Mine</div>
      <div class="item selectSkinCubes"><i class="square icon"></i> Cubes</div>
    </div>
  </div>

</template>

<template name="tileType">
  <div class="item selectTile"><i class="{{icon}} icon"></i><span class="description"><span
      class="tiny ui red tag label">{{price}}$</span></span> {{name}}</div>
</template>
